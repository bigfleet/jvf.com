
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Stand-Ins Are The Story - Hello, I'm Jim Van Fleet</title>
  <meta name="author" content="Jim Van Fleet">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content="What Are Mock Objects? Mock Objects are a stand-in for the real world Mock Objects make a difference in the web applications, because the objects &hellip;">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://new.jimvanfleet.com//blog/2004/05/23/the-stand-ins-are-the-story/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hello, I'm Jim Van Fleet" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Hello, I'm Jim Van Fleet" />
  <meta name="og:title" content="The Stand-Ins Are The Story" />
  <meta name="og:description" content="What Are Mock Objects? Mock Objects are a stand-in for the real world Mock Objects make a difference in the web applications, because the objects &hellip;" />
  <meta name="og:url" content="http://new.jimvanfleet.com//blog/2004/05/23/the-stand-ins-are-the-story/"/>
  <meta name="url" content="http://new.jimvanfleet.com//blog/2004/05/23/the-stand-ins-are-the-story/">
  
  <meta name="subject" content=""/>
  <meta name="category" content=""/>
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <nav role="navigation"><div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="/">Hello, I'm Jim Van Fleet</a>
    <ul class="nav">
      <li><a href="/">Home</a></li>
      <li><a href="/blog/archives">Archives</a></li>
    </ul>
    <ul class="nav" data-subscription="rss">
      <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
      
    </ul>
      
    <form class="navbar-form" action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:new.jimvanfleet.com/" />
        <input class="span2" type="text" name="q" results="0" placeholder="Search"/>
      </fieldset>
    </form>
      
    
  </div>
</div>
</nav>
  <div class="wrapper_single">
    <div class="container">
      <article class="span8 offset2" role="article">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title">The Stand-Ins Are the Story</h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2004-05-23T00:00:00-04:00" pubdate data-updated="true">May 23<span>rd</span>, 2004</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><h2>What Are Mock Objects?</h2>

<dl>
<dt>Mock Objects are a stand-in for the real world</dt>
<dd>
<p>Mock Objects make a difference in the web applications, because the objects you&#8217;re writing depend on objects like <span class="inlineCode">ServletRequest</span> and <span class="inlineCode">ServletResponse</span>.  And how do you get them to do something you want?</p></dd>
<dt>Controllable without fuss</dt>
<dd><p>Mock objects implement interfaces like the above, giving you a chance to write up different implementations for different, testable behavior.</p></dd>
<dt>Simulate things that would otherwise be impossible</dt>
<dd><p>What if you need to test the performance of your system when the database goes down, or the network is unreachable?  Depending on your code, those things may actually be impossible to test otherwise, but Mock Objects can make it possible.</p></dd>
<dt>Mock Objects are just like film stand-ins</dt>
<dd>
<ul>
<li>Cheaper than the leading man</li>
<li>Less temperamental</li>
<li>Always available</li>
<li>Good enough for setting up the production environment <i>rimshot</i></li>
</ul>
</dd>
</dl>

<h2>How To Use Mock Objects</h2>

<p>
In a lot of cases, using Mock Objects seems easy enough.  There&#8217;s a <a href="http://www.mockobjects.org">Mock Objects</a> framework already written with many useful implementations already.  There are <a href="http://www.mockobjects.com/wiki/DynaMock">other</a> <a href="http://www.easymock.org/index.html">frameworks</a> designed to make it easier.
</p>
<p>But that&#8217;s really not the whole story.</p>

<h4>About Your Mock Objects</h4>

<p>
One very useful thing to remember is that, unlike a movie stand-in, your Mock Object should provide <strong>more</strong> functionality than the object it&#8217;s standing in for.  If your Mock Object is implementing an interface or extending another class, it&#8217;ll likely need to keep extra state and provide extra methods to provide the means by which you can influence precisely what the Mock implementation will be doing.
</p>

<h4>Making It Happen</h4>
<p>
The most difficult part of the entire process is getting your &#8220;real&#8221; code to use the mock objects during testing, while they use the real objects during production&#8212;or even other levels of testing.  This is where you, as a developer, have to earn your pay.
</p>
<h4>An example</h4>
<p>
What I really wanted to involve in unit testing was my <a href="http://devblog.jimvanfleet.com/archives/000031.html"><span class="caps">SOFIA</span></a> controllers.  I can test my persistence layer with <a href="http://www.dbunit.org/">DbUnit</a> and my domain model with <a href="http://www.junit.org">JUnit</a>.  Those web controllers were the last mile of feeling that I could use full automated testing on my projects.
</p>
<p>
So, the controller doesn&#8217;t implement an interface, and it already extends another class.  The solution for me was to create an abstract class with two concrete subclasses.  One subclass is the real one, referenced in the <span class="caps">JSP</span> page.  The other is the &#8220;mock&#8221; one used for testing.  All the important behavior is located in the abstract superclass.  Since the controllers extend a class with a default constructor, all that needs to be done is some field initialization within the constructor for the mock controller.  That got me almost all the way there.
</p>
<p>There was one last snag.  Some elements of the <span class="caps">SOFIA</span> framework, like <span class="inlineCode">HtmlSubmitButton</span> and <span class="inlineCode">HtmlText</span> call methods that need the <span class="caps">SOFIA</span> system.properties file.  This solution was just as simple.  Use another mock!</p>
<p>I created simple mock subclasses of those concrete classes that override the methods that need initialization of the properties subsystem.  During constructor initialization, instead of assigning a new instance of <span class="inlineCode">HtmlText</span> to the field, I assign a new instance of <span class="inlineCode">MockHtmlText</span> instead.  </p>
<p>
I&#8217;m not done with my testing implementations yet;  I have to get my datastores into the action.  But this is an excellent example of how Mock Objects can make something that&#8217;s nearly impossible to test a possibility.
</p>
</div>


  <footer>
    <p class="meta">
      
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  


      








  


<time datetime="2004-05-23T00:00:00-04:00" pubdate data-updated="true">May 23<span>rd</span>, 2004</time>
      


    </p>
    
      <a class="pull-left" href="/blog/2004/05/23/the-end-of-an-era/" title="Previous Post: The End of an Era">&laquo; The End of an Era</a>
    
    
      <a class="pull-right" href="/blog/2004/05/24/hibernate-xdoclet-and-ant/" title="Next Post: Hibernate, XDoclet, and Ant">Hibernate, XDoclet, and Ant &raquo;</a>
    
  </footer>

</div>

        
      </article>
    </div>
  </div>
  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2011/10/19/charlotte-startup-weekend-3/">Charlotte Startup Weekend 3</a>
        </li>
      
        <li>
          <a href="/blog/2011/03/30/charlotte-startup-weekend-2/">Charlotte Startup Weekend 2</a>
        </li>
      
        <li>
          <a href="/blog/2011/03/10/devops-culture-hacks-devops-com/">DevOps Culture Hacks | DevOps.com</a>
        </li>
      
        <li>
          <a href="/blog/2011/03/04/old-days/">Old Days</a>
        </li>
      
        <li>
          <a href="/blog/2011/02/08/336-hours/">336 Hours</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/bigfleet" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @bigfleet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="bigfleet">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/bigfleet/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>





<a href="http://www.linkedin.com/in/jimvanfleet" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/bigfleet" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>





<a href="http://www.quora.com/bigfleet" rel="tooltip" title="Quora"><img class="social_icon" title="Quora" alt="Quora icon" src="/images/glyphicons_385_quora.png"></a>



<h2>contact at</h2>
<a href="mailto:jim@jimvanfleet.com">jim@jimvanfleet.com</a>


  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Hello, I'm Jim Van Fleet</a>
  - Copyright &copy; 2013 - Jim Van Fleet
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>








  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
