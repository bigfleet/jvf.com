

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hello, I'm Jim Van Fleet</title>
  <meta name="author" content="Jim Van Fleet">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content=" ">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.jimvanfleet.com//">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hello, I'm Jim Van Fleet" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Hello, I'm Jim Van Fleet" />
  <meta name="og:title" content="Hello, I'm Jim Van Fleet" />
  <meta name="og:description" content=" " />
  <meta name="og:url" content="http://www.jimvanfleet.com//index.html"/>
  <meta name="url" content="http://www.jimvanfleet.com//index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <div id="front-wrapper">
  <div id="hero">
    <div id="hero-inner" class="container">
      <div class="span10">
  <div><img src="images/punchout.gif" width="250" height="250" style="float:right;"></div>
  <h1>
    Hello, I&#8217;m Jim Van Fleet
  </h1>
  <h2>My friends call me @bigfleet.</h2>
</div>

    </div>
  </div>
  <section id="sub-hero">
    <div class="container">
      <div class="row">
  <div class="span4">
    <h2>about me</h2>
<p>I make computers do what I want, more or less.</p>

<p>I am looking for full-time employment.</p>

<p>I cofounded <a href="http://www.pitchbreakfast.com">PitchBreakfast</a> with <strong>Vic Howie</strong>.</p>

<p>I cofounded <a href="http://www.codeforcharlotte.org">Code for Charlotte</a> with <strong>Jill Bjers</strong>.</p>

<p>I&#8217;ve published a <a href="http://bitly.com/bigfleet-newsletter">newsletter for Charlotte startups</a> for over two years.</p>

<p>I&#8217;ve attended or co-organized every <a href="http://charlotte.startupweekend.org">Charlotte Startup Weekend</a>.</p>

  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="bigfleet" data-github-repo-count="6" data-github-skip-forks="true">
  <dd class="loading">Status updating&#8230;</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/bigfleet/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>





<a href="http://www.linkedin.com/in/jimvanfleet" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/bigfleet" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>





<a href="http://www.quora.com/bigfleet" rel="tooltip" title="Quora"><img class="social_icon" title="Quora" alt="Quora icon" src="/images/glyphicons_385_quora.png"></a>



<h2>contact at</h2>
<a href="mailto:jim@jimvanfleet.com">jim@jimvanfleet.com</a>


  </div>
</div>

    </div>
  </section>
  <div class="container">
    <div class="row" id="post-container">
    
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/16/the-end-of-an-era/">The End of an Era</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2015-04-16T15:54:00-04:00" pubdate data-updated="true">Apr 16<span>th</span>, 2015</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/itsbspoke/'>itsbspoke</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>I notified my employees and clients this week that <a href="http://www.itsbspoke.com/">itsbspoke</a> will cease operations on May 31, with the month of May serving as a severance period.  I am looking for full-time employment with a target first day of June 1.</p>

<p>I feel such gratitude that I’ve had an opportunity to work with wonderful teammates and clients.  I knew there were significant risks as I grew my team.  Unfortunately, those risks manifested almost immediately.  This failure is mine as a business owner.  I didn’t make enough difficult, uncomfortable decisions, and in the end, I could not find enough solutions to continue.</p>

<p>I made many major mistakes.   I cared a lot more about building a quality team and delivering strong software than I did creating a viable business.  In trying to deliver the best service possible, I ended up ensuring I couldn’t deliver service at all.  I should have been more willing to express boundaries to clients.</p>

<p>If I had one decision to make over again, it would be building stronger positioning much earlier in the life of the business.  I worked very hard on my relationships and reputation in Charlotte, and had a lot of people ready to share my story.  I was never able to accept that help.  Better positioning could also have eliminated the scarcity that cause the above problem.</p>

<p>I had hired many vendors, of course, and I’ve led technical teams, but I had never been &ldquo;the boss&rdquo;.  I wasn&rsquo;t perfect as a manager, but I will always be proud of the team I built.  It hurts deeply to fail them in this way.</p>

<p>Throughout my life, I’ve not been afraid of tackling challenging, systemic problems, or things others thought impossible.  bspoke represented my opportunity to achieve financial independence “my way”.  I thought I&rsquo;d tackle workplace pay inequality by hiring women, creating a safe place for them to work, and paying them market rates.  I wouldn&rsquo;t change that.</p>

<p>I committed bspoke to developing early stage technical employees, because of my belief that this labor market is problematic.  I continue to think that developing a labor force is critical, but would certainly not use it as a crutch to commit to work the company could not afford to deliver.</p>

<p>I wanted to &ldquo;be the change&rdquo; I wanted to see in my community.  I don&rsquo;t regret being of service, of course.  I&rsquo;m proud to have established <a href="http://www.pitchbreakfast.com/">PitchBreakfast</a> and <a href="http://charlotte.startupweekend.org">Charlotte Startup Weekend</a> as fixtures in the entrepreneurial community.  I expect <a href="http://www.codeforcharlotte.org/">Code for Charlotte</a> to improve life for all Charlotteans.  <a href="http://crtec.us/">CRTEC</a> and <a href="http://it-ology.org/en/CharlotteNC.aspx">it-ology</a> are very valuable parts of the technology community here.  I’ve made so many new friends through my newsletter.  I may return to those commitments in time, but I am eager to live a life more dedicated to my own young family and restoring the financial future I’ve jeopardized.</p>

<h2>What’s next for me:</h2>

<p>I am looking for full-time employment with a target first day of June 1.  I will not consider leaving Charlotte.  My ideal position would allow me to achieve one or more of the following:</p>

<h3>Work toward a more just world</h3>

<p>I (still) believe in the possibilities of a world of with abundant economic opportunity and justice.  I’ve loved getting involved in the civic technology community, and my desire to serve my community would be a strength here, not a distraction.</p>

<h3>Develop as a manager</h3>

<p>I don’t believe I’m capable of becoming 10x more effective as a software engineer.  But I do believe I could create a team where that kind of improvement happened regularly.  I don’t have formal training or a long track record of experience, but I can point to the success of my classes and the references of teams I’ve helped gel in the past.  This represents the next phase for me.</p>

<h3>Ditch the headphones</h3>

<p>I spent the first twenty years of my career learning all I could about how to deliver and operate successful web applications that scaled.  In my time at bspoke, I’ve become satisfied that, while that experience certainly helps avoid expensive mistakes and failures, technology alone is never ultimately responsible for a project’s success.</p>

<p>I don’t feel the need to prove I can slap on the headphones and crush code to make a delivery date.  I’m certainly not opposed to bringing my whole self to any assignment, and of course that capability is valuable, but there’s enough evidence to demonstrate I cannot set healthy boundaries when accepting these assignments.</p>

<h2>Get in touch</h2>

<p>If you think you or your firm might be a good fit for me, <a href="mailto:jim.van.fleet+job@gmail.com">let me know</a>.</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/03/deferred-work-using-sidekiq/">Deferred Work Using Sidekiq</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2013-11-03T11:46:00-05:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2013</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/lpca/'>lpca</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>As we&rsquo;ve discussed at certain points in the past, user experience is extremely
important, and back-end developers have a lot to do with that as well.  Many
users can deal with &lsquo;ugly&rsquo; if the interface is clear, but no one on Earth likes
slow!  We&rsquo;ll look at how to take needed work out of the request/response cycle
in this exercise.</p>

<h2>Step 0</h2>

<p>We&rsquo;ll be revisiting the <a href="https://github.com/itsbspoke/aitfc">house project</a> with
this exercise.  I&rsquo;ve merged the work that we&rsquo;ve accomplished into master, so
that you&rsquo;ll be able to either update your forks, or pull the changes down
locally.</p>

<p>What&rsquo;s that, you <em>weren&rsquo;t</em> working on a branch when you made your changes, and you
can&rsquo;t apply my changes quickly?</p>

<p>If you have made changes on master that are now irrelevant, try issuing these
commands:</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git commit -a -m <span class="s2">&quot;Saving my work, just in case&quot;</span>
</span><span class='line'>git checkout -b save-my-work
</span><span class='line'>git branch -D master
</span><span class='line'>git checkout -b master -t origin/master
</span></code></pre></td></tr></table></div></figure>


<p>That should get you ready to work again.  But create branches when you start
working!  It&rsquo;s easy!  Here&rsquo;s the branch I&rsquo;d start here:</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git checkout -b friend-graph-sidekiq
</span></code></pre></td></tr></table></div></figure>


<h2>Step 1</h2>

<p>Add these files to your Gemfile:</p>

<figure class='code'><figcaption><span>Gemfile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="s2">&quot;koala&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 1.8.0rc1&quot;</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;sidekiq&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># add this in the test group</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;mocha&#39;</span><span class="p">,</span> <span class="ss">:require</span> <span class="o">=&gt;</span> <span class="s1">&#39;mocha/api&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Install them.  You should know how by now!  Ask a neighbor if you don&rsquo;t.</p>

<h2>Step 2</h2>

<p>Put these contents in spec/models/social_connection_spec.rb</p>

<figure class='code'><figcaption><span>spec/models/social_connection_spec.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">SocialConnection</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">describe</span> <span class="s2">&quot;validation&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">subject</span><span class="p">{</span> <span class="n">build</span><span class="p">(</span><span class="ss">:social_connection</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="n">it</span><span class="p">{</span> <span class="n">should</span> <span class="n">be_valid</span> <span class="p">}</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should require a user&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">build</span><span class="p">(</span><span class="ss">:social_connection</span><span class="p">,</span> <span class="ss">user</span><span class="p">:</span> <span class="kp">nil</span><span class="p">)</span><span class="o">.</span><span class="n">should_not</span> <span class="n">be_valid</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should require a provider&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">build</span><span class="p">(</span><span class="ss">:social_connection</span><span class="p">,</span> <span class="ss">provider</span><span class="p">:</span> <span class="kp">nil</span><span class="p">)</span><span class="o">.</span><span class="n">should_not</span> <span class="n">be_valid</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should require a uid&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">build</span><span class="p">(</span><span class="ss">:social_connection</span><span class="p">,</span> <span class="ss">uid</span><span class="p">:</span> <span class="kp">nil</span><span class="p">)</span><span class="o">.</span><span class="n">should_not</span> <span class="n">be_valid</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">describe</span> <span class="s2">&quot;associations&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should be present on user&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">build</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="ss">:social_connections</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="kp">true</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">describe</span> <span class="s2">&quot;Facebook&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">let</span><span class="p">(</span><span class="ss">:user</span><span class="p">){</span> <span class="n">create</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">describe</span> <span class="s2">&quot;interface&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">subject</span><span class="p">{</span> <span class="no">FacebookInterface</span><span class="o">.</span><span class="n">for</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>      <span class="n">it</span> <span class="p">{</span><span class="n">should_not</span> <span class="n">be_nil</span><span class="p">}</span>
</span><span class='line'>      <span class="n">it</span> <span class="p">{</span><span class="n">should</span> <span class="n">be_a</span><span class="p">(</span><span class="ss">FacebookInterface</span><span class="p">:</span><span class="ss">:StubInterface</span><span class="p">)}</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">describe</span> <span class="s2">&quot;usage&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">let</span><span class="p">(</span><span class="ss">:fbi</span><span class="p">){</span> <span class="no">FacebookInterface</span><span class="o">.</span><span class="n">for</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will give you a spec to pass!  Run your specs with either:</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>guard start -i
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>rake spec
</span></code></pre></td></tr></table></div></figure>


<p>if you know that guard isn&rsquo;t working for you.</p>

<p>To pass this test, you&rsquo;ll need to:</p>

<ul>
<li>create a model with the right fields and types</li>
<li>add the proper associations throughout the domain</li>
<li>add validations to the class you create</li>
</ul>


<p>If you&rsquo;d like a hint, download <a href="https://gist.github.com/bigfleet/7292464#file-social_connections-rb">this file</a> into
<code>spec/factories/social_connections.rb</code>, or simply refer to it inline.</p>

<p>Our goal with this step is to create a record that allows us to keep track of
some basic information for social connections on the part of our users.  When
you have this spec passing, you have the domain layer ready!  Now let&rsquo;s proceed
to the integration.</p>

<h2>Step 3</h2>

<p>Place this file in <code>spec/support/facebook_interface.rb</code>.</p>

<figure class='code'><figcaption><span>spec/support/facebook_interface.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">FacebookInterface</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">class</span> <span class="nc">StubInterface</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">friends</span>
</span><span class='line'>      <span class="o">[</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;James Schaffer&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;11670&quot;</span>
</span><span class='line'>        <span class="p">},</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Brian O&#39;Malley&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;615125&quot;</span>
</span><span class='line'>        <span class="p">},</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Greg Staff&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;1507686&quot;</span>
</span><span class='line'>        <span class="p">},</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Katherine McNerney&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;1530325&quot;</span>
</span><span class='line'>        <span class="p">},</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Joel Bonasera&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;1905046&quot;</span>
</span><span class='line'>        <span class="p">},</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Denny Abraham&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;1911249&quot;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="o">]</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">def</span> <span class="nf">friend_detail</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="nb">id</span><span class="o">.</span><span class="n">to_s</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;James Schaffer&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;first_name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;James&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;last_name&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Schaffer&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;link&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;https://www.facebook.com/jas.schaffer&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;username&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;jas.schaffer&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;gender&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;male&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;locale&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;en_US&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updated_time&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;2013-09-23T02:08:44+0000&quot;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">FacebookInterface</span><span class="o">.</span><span class="n">stubs</span><span class="p">(</span><span class="ss">:for</span><span class="p">)</span><span class="o">.</span><span class="n">returns</span><span class="p">(</span><span class="ss">FacebookInterface</span><span class="p">:</span><span class="ss">:StubInterface</span><span class="o">.</span><span class="n">new</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Place this file in <code>spec/support/sidekiq.rb</code></p>

<figure class='code'><figcaption><span>spec/support/sidekiq.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;sidekiq/testing&#39;</span>
</span><span class='line'><span class="ss">Sidekiq</span><span class="p">:</span><span class="ss">:Testing</span><span class="o">.</span><span class="n">fake!</span>
</span></code></pre></td></tr></table></div></figure>


<p>Finally, place this spec in place in
<code>spec/models/facebook_friend_worker_spec.rb</code>:</p>

<figure class='code'><figcaption><span>spec/models/facebook_friend_worker_spec.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;spec_helper&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">describe</span> <span class="no">FacebookFriendWorker</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">subject</span><span class="p">{</span> <span class="no">FacebookFriendWorker</span><span class="o">.</span><span class="n">new</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;should include the line &#39;include Sidekiq::Worker&#39;&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">subject</span><span class="o">.</span><span class="n">respond_to?</span><span class="p">(</span><span class="ss">:jid</span><span class="p">)</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="kp">true</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">context</span> <span class="s2">&quot;when processing friends&quot;</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">before</span><span class="p">(</span><span class="ss">:each</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>      <span class="vi">@user</span> <span class="o">=</span> <span class="n">create</span><span class="p">(</span><span class="ss">:user</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">it</span> <span class="s2">&quot;should save all friends&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="nb">lambda</span><span class="p">{</span> <span class="n">subject</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="vi">@user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">should</span> <span class="n">change</span><span class="p">(</span><span class="no">SocialConnection</span><span class="p">,</span> <span class="ss">:count</span><span class="p">)</span><span class="o">.</span><span class="n">by</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">context</span>  <span class="s2">&quot;attribute saving&quot;</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">before</span><span class="p">(</span><span class="ss">:each</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">subject</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="vi">@user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@friend</span> <span class="o">=</span> <span class="no">SocialConnection</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">uid</span><span class="p">:</span> <span class="s2">&quot;1905046&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should store uid&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="vi">@friend</span><span class="o">.</span><span class="n">should_not</span> <span class="n">be_nil</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should save provider&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="vi">@friend</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;facebook&quot;</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should store name&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="vi">@friend</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s2">&quot;Joel Bonasera&quot;</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">it</span> <span class="s2">&quot;should be bidirectional&quot;</span> <span class="k">do</span>
</span><span class='line'>        <span class="vi">@friend</span><span class="o">.</span><span class="n">follower</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="kp">true</span>
</span><span class='line'>        <span class="vi">@friend</span><span class="o">.</span><span class="n">follows</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="kp">true</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will give you the next spec to run.  This will test that you can progress
through the Facebook API response, and save the results to the DB in the
appropriate manner.</p>

<p>It&rsquo;s customary to create an <code>app/workers</code> directory to place your
<code>FacebookFriendWorker</code>, as well as any other background workers that
you create.  So the code that you write to pass this test should go in
<code>app/workers/facebook_friend_worker.rb</code>.</p>

<p>When your specs are passing here, we&rsquo;ve added the ability to defer work outside
of the request/response cycle.  We&rsquo;re most of the way to seeing this work!</p>

<h2>Step 4</h2>

<p><strong>Add</strong> this spec to your <code>spec/models/authentication_spec.rb</code> file:</p>

<figure class='code'><figcaption><span>spec/models/authentication_spec.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="n">context</span> <span class="s2">&quot;saving Facebook auths&quot;</span> <span class="k">do</span>
</span><span class='line'>   <span class="n">subject</span><span class="p">{</span> <span class="n">build</span><span class="p">(</span><span class="ss">:authentication</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>   <span class="n">it</span> <span class="s2">&quot;should enqueue a Facebook friend saver when saved&quot;</span> <span class="k">do</span>
</span><span class='line'>     <span class="n">expect</span> <span class="p">{</span> <span class="n">subject</span><span class="o">.</span><span class="n">save</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">change</span><span class="p">(</span><span class="no">FacebookFriendWorker</span><span class="o">.</span><span class="n">jobs</span><span class="p">,</span> <span class="ss">:size</span><span class="p">)</span><span class="o">.</span><span class="n">by</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Write a lifecycle method on Authentication that will enqueue the worker.  We&rsquo;re
definitely getting close now!</p>

<h2>Step 5: Putting it all together</h2>

<p>Code wise, you are ready to go!  We have a few more things to put in place
before we can actually <strong>run</strong> the code and have everything work.</p>

<p>First, sidekiq requires redis, so let&rsquo;s install that.</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>brew install redis
</span></code></pre></td></tr></table></div></figure>


<p>We don&rsquo;t want redis to run all the time&mdash; it&rsquo;s not as cool as postgres.  It does
need some configuration to run, so let&rsquo;s save <a href="https://gist.github.com/bigfleet/7292464#file-redis-conf">this file</a> at
<code>config/redis.conf</code></p>

<p>Finally, <strong>add</strong> these two lines to your <code>Procfile</code>:</p>

<figure class='code'><figcaption><span>Procfile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">redis</span><span class="p">:</span> <span class="n">redis</span><span class="o">-</span><span class="n">server</span> <span class="n">config</span><span class="o">/</span><span class="n">redis</span><span class="o">.</span><span class="n">conf</span>
</span><span class='line'><span class="ss">worker</span><span class="p">:</span> <span class="n">bundle</span> <span class="nb">exec</span> <span class="n">sidekiq</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Step 6:</h2>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>foreman start
</span></code></pre></td></tr></table></div></figure>


<p>And try it in your web browser!</p>

<p>You should see something in your server window like:</p>

<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>11:15:52 worker.1 | 2013-11-03T16:15:52Z 60093 TID-ovijid2f0 FacebookFriendWorker JID-afefbf22f98c6c4f37a82132 INFO: <span class="k">done</span>: 4.197 sec
</span></code></pre></td></tr></table></div></figure>


<p>if it worked.  You can then use the data in there to print out various things in
the rest of your app.  Try it out!</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/21/facebook-oauth-using-omniauth-and-rails-4/">Facebook OAuth Using OmniAuth and Rails 4</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2013-10-21T11:30:00-04:00" pubdate data-updated="true">Oct 21<span>st</span>, 2013</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/facebook/'>facebook,</a>, <a class='category' href='/blog/categories/oauth/'>oauth,</a>, <a class='category' href='/blog/categories/omniauth/'>omniauth</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>Allowing Facebook logins in Rails 4</h2>




<p>I had to copy and paste in information from a variety of sources to end up
with something I liked at the time of this writing.  Since I want to walk my
students in <a href="http://www.launchpadcodeacademy.com/">Launchpad Code
Academy</a> through this process, I figured I&#8217;d make this walkthrough public.
It may help newcomers for quite some time to come!</p>




<h3>About this solution</h3>




<p>We are going to be using a server-side OAuth authorization.  The mechanism
uses some JavaScript checks and interfaces with the JS Facebook API, but
ultimately the connection is made on the server-side.</p>




<p>You don&#8217;t necessarily have to be using Devise, but if you&#8217;re not, our tips
about how to leverage this approach for Facebook login may not be helpful.</p>




<p>With a little extra work, you can allow users that have attached their
Facebook account to log in with Facebook.  You might even be able to adapt this
approach to allowing users to create accounts with a single click.  But you
won&#8217;t like that as much when you want to get Twitter involved, since Twitter
doesn&#8217;t send an email address in its OAuth callback.  It&#8217;s best to have existing
users affiliate their accounts and then providing login as a convenience.</p>




<h3>Getting started</h3>


<p><span class="step">Step 1: Installing gems</span></p>

<p>Include these gems in your Gemfile:</p>




<figure class='code'><figcaption><span>Gemfile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">gem</span> <span class="s2">&quot;omniauth&quot;</span>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;omniauth-facebook&#39;</span><span class="p">,</span> <span class="s1">&#39;1.4.0&#39;</span>
</span></code></pre></td></tr></table></div></figure>




<p>Install them in your terminal with the bundle command:</p>




<figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle install
</span></code></pre></td></tr></table></div></figure>


<p><span class="step">Step 2</span></p>

<p>Per the <a href="https://github.com/mkdynamic/omniauth-facebook#usage">usage
instructions for omniauth-facebook</a>, create a new file in config/initializers
named omniauth.rb:</p>




<figure class='code'><figcaption><span>config/initializers/omniauth.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">OmniAuth</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="no">Rails</span><span class="o">.</span><span class="n">logger</span>
</span><span class='line'>
</span><span class='line'><span class="no">Rails</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">middleware</span><span class="o">.</span><span class="n">use</span> <span class="ss">OmniAuth</span><span class="p">:</span><span class="ss">:Builder</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">provider</span> <span class="ss">:facebook</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;FACEBOOK_KEY&#39;</span><span class="o">]</span><span class="p">,</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;FACEBOOK_SECRET&#39;</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>




<p>The config/initializers directory is designed for use on Rails startup to
configure how libraries are intended to operate.  In this case, we want our
Rails application to know that we are using Omniauth, and are configuring the
Facebook provider to reference environment variables to run.</p>




<p>To set these environment variables properly, we&#8217;ll need to go get some info
from Facebook.</p>




<h3>Creating and configuring a Facbook App</h3>


<p><span class="step">Step 1: An app</span></p>

<p>I honestly don&#8217;t remember what it&#8217;s like to register for a Facebook developer
account, other than it should be free, and it should happen at the
<a href="https://developers.facebook.com/">Facebook Developers</a> site.</p>




<p>When you&#8217;ve registered properly, there should be an &#8220;Apps&#8221; tab in your
navigation.  Click on that to travel to <a href="https://developers.facebook.com/apps">
your list of apps.</a></p>




<p>Click &#8220;Create New App&#8221;.  You should pick a name that indicates you are doing
testing.  You can place it in a namespace, if you like, but that&#8217;s optional.</p>


<p><span class='caption-wrapper'><img class='caption' src='https://www.evernote.com/shard/s1/sh/7383f6e2-cebb-4bcc-b630-6df857a7ee54/6cb1990638eea3cedcbf2bb5372279e6/deep/0/Facebook%20Developers.png' width='' height='' title='Mine looked like this'><span class='caption-text'>Mine looked like this</span></span></p>

<p><p></p>

<p><p>Click &ldquo;Continue&rdquo;, and you should be brought to an application screen that
contains your App ID (or API Key) and your App Secret.  Note those, but we&rsquo;ll
need to fill in some information here.</p></p>

<p><p>In the &ldquo;App Domains&rdquo; box, put &lsquo;localhost&rsquo;</p></p>

<p><p>Click the green check on &ldquo;Website with Facebook Login&rdquo;, and fill that in with
<a href="http://localhost:5000/.">http://localhost:5000/.</a>  My students (or anyone who uses <a href="https://github.com/bigfleet/rails-templates">my Rails templates</a>)
will be able to use this.  This value may be different for you&mdash; make sure that it
matches whatever you use in development.  localhost:3000 would be common if you
are using <code>rails s</code> and appname.dev would be likely if you were using
Pow.</p></p>

<p><span class='caption-wrapper'><img class='caption' src='https://www.evernote.com/shard/s1/sh/45f415ea-8f8c-4249-ba0e-d7e2c40dde6c/800ff5c9285390d745236d13f5464b03/deep/0/Basic-%20Facebook%20Developers.png' width='' height='' title='Mine looked like this'><span class='caption-text'>Mine looked like this</span></span></p>

<p><span class="step">Step 2: Installing application details</span></p>

<p><p>Students in my class use <a
href="https://github.com/ddollar/foreman">foreman</a> to run their development
environment.  If you won&rsquo;t, perhaps you can consider <a href="https://github.com/bkeepers/dotenv">dotenv</a>,
to load env variables from files for you?  It&rsquo;s important not to commit
sensitive information like this Facebook App Secret to your repository.  Note
the difficulties and caveats, should you ever need to <a href="https://help.github.com/articles/remove-sensitive-data">remove sensitive data</a>.
Usage of foreman or dotenv can help with that.</p></p>

<p><p>If you are using foreman, you can add these files to your .env file (which is
not in version control).  Instead of the values below, they should match your
own app&rsquo;s key and secret that you obtained previously.  You cannot just copy and
paste this file.  I totally made up these numbers, and they will not work.</p></p>

<p><figure class='code'><figcaption><span>.env</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">FACEBOOK_KEY</span><span class="o">=</span><span class="mi">686338067928534</span>
</span><span class='line'><span class="no">FACEBOOK_SECRET</span><span class="o">=</span><span class="mi">60</span><span class="n">b9fe21ab431897eabc0743b39a5406</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><h3>Facebook Powers: Activate!</h3></p>

<p><span class="step">Step 1: Create a model to store the authentications</span></p>

<p><p>We don&rsquo;t want to tie authentications to a user in a 1-1 way, since we&rsquo;d love
to allow connecting with other social networks by default.  We want a user to
have many social networks attached, potentially, so we&rsquo;ll create a model that
appropriately attaches to users.</p></p>

<p><p>Create an Authentication model using this command: </p></p>

<p><figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>rails g model Authentication user_id:integer provider:string uid:string name:string oauth_token:string oauth_expires_at:datetime
</span></code></pre></td></tr></table></div></figure></p>

<p><p>This will create a migration for you similar to this:</p></p>

<p><figure class='code'><figcaption><span>db/migrate/20131015222934_create_authentications.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">CreateAuthentications</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Migration</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">change</span>
</span><span class='line'>    <span class="n">create_table</span> <span class="ss">:authentications</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">integer</span> <span class="ss">:user_id</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:provider</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:uid</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:name</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">string</span> <span class="ss">:oauth_token</span>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">datetime</span> <span class="ss">:oauth_expires_at</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">t</span><span class="o">.</span><span class="n">timestamps</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>You&rsquo;ll also need to provide a mechanism for Omniauth to save the data it can
provide to your DB for your use.  After you issue the above command, you should
have an <code>app/models/authentications.rb</code> file.  Replace that file with
these contents:</p></p>

<p><figure class='code'><figcaption><span>app/models/authentication.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Authentication</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">belongs_to</span> <span class="ss">:user</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">from_omniauth</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</span><span class='line'>    <span class="n">where</span><span class="p">(</span><span class="n">auth</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="ss">:provider</span><span class="p">,</span> <span class="ss">:uid</span><span class="p">))</span><span class="o">.</span><span class="n">first_or_initialize</span><span class="o">.</span><span class="n">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">authentication</span><span class="o">|</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">provider</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">uid</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">name</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">oauth_token</span> <span class="o">=</span> <span class="n">auth</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">token</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">oauth_expires_at</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">auth</span><span class="o">.</span><span class="n">credentials</span><span class="o">.</span><span class="n">expires_at</span><span class="p">)</span>
</span><span class='line'>      <span class="n">authentication</span><span class="o">.</span><span class="n">save!</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Be sure to also add <code>has_many :authentications</code> to your
<code>app/models/user.rb</code> file.  And don&rsquo;t forget to run your database
migrations here!</p></p>

<p><span class="step">Step 2: Create the authentication user interface</span></p>

<p><figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>rails g controller authentications index
</span></code></pre></td></tr></table></div></figure></p>

<p><p>This will create an authentications controller, and a view file for you.  We
don&rsquo;t quite want any of what we get out of the package.  Copy these file
contents into your authentications controller:</p></p>

<p><figure class='code'><figcaption><span>app/controllers/authentications_controller.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">AuthenticationsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>    <span class="vi">@authentications</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">authentications</span> <span class="k">if</span> <span class="n">current_user</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">create</span>
</span><span class='line'>    <span class="n">auth</span> <span class="o">=</span> <span class="no">Authentication</span><span class="o">.</span><span class="n">from_omniauth</span><span class="p">(</span><span class="n">current_user</span><span class="p">,</span> <span class="n">env</span><span class="o">[</span><span class="s2">&quot;omniauth.auth&quot;</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">flash</span><span class="o">[</span><span class="ss">:notice</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;Authentication successful.&quot;</span>
</span><span class='line'>    <span class="n">redirect_to</span> <span class="n">authentications_url</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">destroy</span>
</span><span class='line'>    <span class="vi">@authentication</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">authentications</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@authentication</span><span class="o">.</span><span class="n">destroy</span>
</span><span class='line'>    <span class="n">flash</span><span class="o">[</span><span class="ss">:notice</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;Successfully destroyed authentication.&quot;</span>
</span><span class='line'>    <span class="n">redirect_to</span> <span class="n">authentications_url</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>
<p>Place this file into your JavaScript directory.  Note that <strong>this one won&rsquo;t
work either by just copying and pasting</strong>!  You need to include your non-sensitive
App ID :</p></p>

<p><figure class='code'><figcaption><span>app/assets/javascripts/facebook.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// Additional JS functions here</span>
</span><span class='line'><span class="nb">window</span><span class="p">.</span><span class="nx">fbAsyncInit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">FB</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span>
</span><span class='line'>    <span class="nx">appId</span>      <span class="o">:</span> <span class="mi">686338067928534</span><span class="p">,</span> <span class="c1">// App ID</span>
</span><span class='line'>    <span class="nx">status</span>     <span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// check login status</span>
</span><span class='line'>    <span class="nx">cookie</span>     <span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// enable cookies to allow the server to access the session</span>
</span><span class='line'>    <span class="nx">xfbml</span>      <span class="o">:</span> <span class="kc">true</span>  <span class="c1">// parse XFBML</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Load the SDK Asynchronously</span>
</span><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">){</span>
</span><span class='line'>   <span class="kd">var</span> <span class="nx">js</span><span class="p">,</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">&#39;facebook-jssdk&#39;</span><span class="p">,</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>   <span class="k">if</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">))</span> <span class="p">{</span><span class="k">return</span><span class="p">;}</span>
</span><span class='line'>   <span class="nx">js</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span> <span class="nx">js</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span> <span class="nx">js</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>   <span class="nx">js</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;//connect.facebook.net/en_US/all.js&quot;</span><span class="p">;</span>
</span><span class='line'>   <span class="nx">ref</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span> <span class="nx">ref</span><span class="p">);</span>
</span><span class='line'><span class="p">}(</span><span class="nb">document</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'><span class="kd">function</span> <span class="nx">fblogin</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">FB</span><span class="p">.</span><span class="nx">getLoginStatus</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="s2">&quot;connected&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span>
</span><span class='line'>        <span class="s1">&#39;/auth/facebook/callback?&#39;</span> <span class="o">+</span>
</span><span class='line'>        <span class="nx">$</span><span class="p">.</span><span class="nx">param</span><span class="p">({</span> <span class="nx">signed_request</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">authResponse</span><span class="p">.</span><span class="nx">signedRequest</span> <span class="p">})</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>     <span class="nx">FB</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">authResponse</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="s1">&#39;/auth/facebook/callback?&#39;</span> <span class="o">+</span>
</span><span class='line'>          <span class="nx">$</span><span class="p">.</span><span class="nx">param</span><span class="p">({</span> <span class="nx">signed_request</span><span class="o">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">authResponse</span><span class="p">.</span><span class="nx">signedRequest</span> <span class="p">})</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>     <span class="p">})</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>
<p>Copy this view file into place, as the bulk of our tutorial actions will
happen there.  There are HTML comment blocks below&mdash; my blog assumes I want a
hyphen, when I really do want two dashes.  Be sure the file matches <a href="https://gist.github.com/bigfleet/7088190">this gist</a>. </p></p>

<p><figure class='code'><figcaption><span>app/views/authentications/index.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%</span> <span class="k">if</span> <span class="vi">@authentications</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  </span><span class="cp">&lt;%</span> <span class="k">unless</span> <span class="vi">@authentications</span><span class="o">.</span><span class="n">empty?</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">    &lt;p&gt;&lt;strong&gt;You can sign in to this account using:&lt;/strong&gt;&lt;/p&gt;</span>
</span><span class='line'><span class="x">    &lt;div class=&quot;authentications&quot;&gt;</span>
</span><span class='line'><span class="x">      </span><span class="cp">&lt;%</span> <span class="k">for</span> <span class="n">authentication</span> <span class="k">in</span> <span class="vi">@authentications</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">        &lt;div class=&quot;authentication&quot;&gt;</span>
</span><span class='line'><span class="x">          </span><span class="cp">&lt;%=</span> <span class="n">image_tag</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">authentication</span><span class="o">.</span><span class="n">provider</span><span class="si">}</span><span class="s2">_32.png&quot;</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="s2">&quot;32x32&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">          &lt;div class=&quot;provider&quot;&gt;</span><span class="cp">&lt;%=</span> <span class="n">authentication</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">titleize</span> <span class="cp">%&gt;</span><span class="x">&lt;/div&gt;</span>
</span><span class='line'><span class="x">          &lt;div class=&quot;uid&quot;&gt;</span><span class="cp">&lt;%=</span> <span class="n">authentication</span><span class="o">.</span><span class="n">uid</span> <span class="cp">%&gt;</span><span class="x">&lt;/div&gt;</span>
</span><span class='line'><span class="x">          </span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="n">authentication</span><span class="p">,</span> <span class="ss">:confirm</span> <span class="o">=&gt;</span> <span class="s1">&#39;Are you sure you want to remove this authentication option?&#39;</span><span class="p">,</span> <span class="ss">:method</span> <span class="o">=&gt;</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">&quot;remove&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">        &lt;/div&gt;</span>
</span><span class='line'><span class="x">      </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span>
</span><span class='line'><span class="x">    &lt;/div&gt;</span>
</span><span class='line'><span class="x">  </span><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;p&gt;&lt;strong&gt;Add another service to sign in with:&lt;/strong&gt;&lt;/p&gt;</span>
</span><span class='line'><span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  &lt;p&gt;&lt;strong&gt;Sign in through one of these services:&lt;/strong&gt;&lt;/p&gt;</span>
</span><span class='line'><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'>
</span><span class='line'><span class="x">&lt;!&mdash;</span>
</span><span class='line'><span class="x">&lt;a href=&quot;/auth/twitter&quot; class=&quot;auth_provider&quot;&gt;</span>
</span><span class='line'><span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">image_tag</span> <span class="s2">&quot;twitter_64.png&quot;</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="s2">&quot;64x64&quot;</span><span class="p">,</span> <span class="ss">:alt</span> <span class="o">=&gt;</span> <span class="s2">&quot;Twitter&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  Twitter</span>
</span><span class='line'><span class="x">&lt;/a&gt;</span>
</span><span class='line'><span class="x">&mdash;&gt;</span>
</span><span class='line'><span class="cp">&lt;%</span> <span class="k">unless</span> <span class="vi">@authentications</span><span class="o">.</span><span class="n">select</span><span class="p">{</span> <span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="n">a</span><span class="o">.</span><span class="n">provider</span> <span class="o">==</span> <span class="s2">&quot;facebook&quot;</span> <span class="p">}</span><span class="o">.</span><span class="n">any?</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">link_to_function</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">&quot;facebook_64.png&quot;</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="s2">&quot;64x64&quot;</span><span class="p">,</span> <span class="ss">:alt</span> <span class="o">=&gt;</span> <span class="s2">&quot;Facebook&quot;</span><span class="p">),</span> <span class="s1">&#39;fblogin()&#39;</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="cp">&lt;%</span> <span class="k">end</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">&lt;!&mdash;</span>
</span><span class='line'><span class="x">&lt;a href=&quot;/auth/google_apps&quot; class=&quot;auth_provider&quot;&gt;</span>
</span><span class='line'><span class="x">  </span><span class="cp">&lt;%=</span> <span class="n">image_tag</span> <span class="s2">&quot;google_64.png&quot;</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="s2">&quot;64x64&quot;</span><span class="p">,</span> <span class="ss">:alt</span> <span class="o">=&gt;</span> <span class="s2">&quot;Google&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">  Google</span>
</span><span class='line'><span class="x">&lt;/a&gt;</span>
</span><span class='line'><span class="x">&mdash;&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="x">&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Let&rsquo;s pretty this up a little with some CSS:</p></p>

<p><figure class='code'><figcaption><span>app/stylesheets/authentications.css.scss</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class='sass'><span class='line'><span class="nc">.authentications</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">margin-bottom</span><span class="o">:</span> <span class="mi">30</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">width</span><span class="o">:</span> <span class="mi">130</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">float</span><span class="o">:</span> <span class="no">left</span><span class="err">;</span>
</span><span class='line'>  <span class="na">background-color</span><span class="o">:</span> <span class="mh">#EEE</span><span class="err">;</span>
</span><span class='line'>  <span class="na">border</span><span class="o">:</span> <span class="no">solid</span> <span class="mi">1</span><span class="kt">px</span> <span class="mh">#999</span><span class="err">;</span>
</span><span class='line'>  <span class="na">padding</span><span class="o">:</span> <span class="mi">5</span><span class="kt">px</span> <span class="mi">10</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">-moz-border-radius</span><span class="o">:</span> <span class="mi">8</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">-webkit-border-radius</span><span class="o">:</span> <span class="mi">8</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">position</span><span class="o">:</span> <span class="no">relative</span><span class="err">;</span>
</span><span class='line'>  <span class="na">margin-right</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="nc">.remove</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">text-decoration</span><span class="o">:</span> <span class="no">none</span><span class="err">;</span>
</span><span class='line'>  <span class="na">position</span><span class="o">:</span> <span class="no">absolute</span><span class="err">;</span>
</span><span class='line'>  <span class="na">top</span><span class="o">:</span> <span class="mi">3</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">right</span><span class="o">:</span> <span class="mi">3</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">color</span><span class="o">:</span> <span class="mh">#333</span><span class="err">;</span>
</span><span class='line'>  <span class="na">padding</span><span class="o">:</span> <span class="mi">2</span><span class="kt">px</span> <span class="mi">4</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">font-size</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="nc">.remove</span><span class="nd">:hover</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">color</span><span class="o">:</span> <span class="mh">#CCC</span><span class="err">;</span>
</span><span class='line'>  <span class="na">background-color</span><span class="o">:</span> <span class="mh">#777</span><span class="err">;</span>
</span><span class='line'>  <span class="na">-moz-border-radius</span><span class="o">:</span> <span class="mi">6</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">-webkit-border-radius</span><span class="o">:</span> <span class="mi">6</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="nt">img</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">float</span><span class="o">:</span> <span class="no">left</span><span class="err">;</span>
</span><span class='line'>  <span class="na">margin-right</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="nc">.provider</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">font-weight</span><span class="o">:</span> <span class="no">bold</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.authentication</span> <span class="nc">.uid</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">color</span><span class="o">:</span> <span class="mh">#666</span><span class="err">;</span>
</span><span class='line'>  <span class="na">font-size</span><span class="o">:</span> <span class="mi">11</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.auth_provider</span> <span class="nt">img</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">display</span><span class="o">:</span> <span class="no">block</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.auth_provider</span> <span class="err">{</span>
</span><span class='line'>  <span class="na">float</span><span class="o">:</span> <span class="no">left</span><span class="err">;</span>
</span><span class='line'>  <span class="na">text-decoration</span><span class="o">:</span> <span class="no">none</span><span class="err">;</span>
</span><span class='line'>  <span class="na">margin-right</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'>  <span class="na">text-align</span><span class="o">:</span> <span class="no">center</span><span class="err">;</span>
</span><span class='line'>  <span class="na">margin-bottom</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="err">;</span>
</span><span class='line'><span class="err">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><span class="step">Step 3: Putting it all together</span></p>

<p><p>First, the above step created some cruft in your routes that will make you
unhappy later.  Remove the line that says <code>get
&ldquo;authentications#index&rdquo;</code> from your routing file.  Your route file should contain
a trace of the authentications you plan on dealing with.  Use this snippet:</p></p>

<p><figure class='code'><figcaption><span>config/routes.rb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">resources</span> <span class="ss">:authentications</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">match</span> <span class="s1">&#39;auth/:provider/callback&#39;</span><span class="p">,</span> <span class="ss">to</span><span class="p">:</span> <span class="s1">&#39;authentications#create&#39;</span><span class="p">,</span> <span class="ss">via</span><span class="p">:</span> <span class="o">[</span><span class="ss">:get</span><span class="p">,</span> <span class="ss">:post</span><span class="o">]</span>
</span><span class='line'>  <span class="n">match</span> <span class="s1">&#39;auth/failure&#39;</span><span class="p">,</span> <span class="ss">to</span><span class="p">:</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">),</span> <span class="ss">via</span><span class="p">:</span> <span class="o">[</span><span class="ss">:get</span><span class="p">,</span> <span class="ss">:post</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Ensure that your Facebook JavaScript is loaded into the asset pipeline:</p></p>

<p><figure class='code'><figcaption><span>app/assets/javascripts/application.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="o">//=</span> <span class="nx">require</span> <span class="nx">facebook</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Ensure that your authentications CSS is loaded into the asset pipeline:</p></p>

<p><figure class='code'><figcaption><span>app/assets/stylesheets/application.css.scss</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sass'><span class='line'><span class="k">@import</span> <span class="s">&quot;authentications&quot;;</span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Include a link to social logins to your already logged in accounts:</p></p>

<p><figure class='code'><figcaption><span>app/views/layouts/application.html.erb</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erb'><span class='line'><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">&quot;Social Accounts&quot;</span><span class="p">,</span> <span class="n">authentications_path</span> <span class="cp">%&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Download some Facebook icons:</p></p>

<p><figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>curl -o app/assets/images/facebook_32.png <a href="https://www.evernote.com/shard/s1/sh/c3303305-ff8f-4829-a315-9ee91709f479/49b3985624af8fb0cae8e3223333c61a/deep/0/facebook_32.png">https://www.evernote.com/shard/s1/sh/c3303305-ff8f-4829-a315-9ee91709f479/49b3985624af8fb0cae8e3223333c61a/deep/0/facebook_32.png</a>
</span><span class='line'>cp app/assets/images/facebook_32.png app/assets/images/facebook_64.png
</span></code></pre></td></tr></table></div></figure></p>

<p><p>You can use Facebook to let people create new accounts, but that&rsquo;s left as an
exercise to the reader!</p></p>

<p><span class="step">Step 4: Boot it up</span></p>

<p><p>Issue a command to start your server:</p></p>

<p><figure class='code'><figcaption><span>Terminal</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bundle <span class="nb">exec </span>foreman start
</span></code></pre></td></tr></table></div></figure></p>

<p><p>Since setting environment variables is important to the application running
properly, <code>rails s</code> probably won&rsquo;t work any longer!  Foreman will put
us in good position to manage environment variables (and pull user social
graphs via Sidekiq later!)</p></p>

<p><p>You should be able to click through to the</p>

<p><h3>Acknowledgements:</h3></p>

<p><p>Many of the file contents are avialable in <a href="https://gist.github.com/bigfleet/7088190">this gist</a>.</p></p>

<p><p>The amazing RailsCasts series provided not <a href="http://railscasts.com/episodes/235-omniauth-part-1">one</a> but <a href="http://railscasts.com/episodes/360-facebook-authentication">two</a> pieces of this finished puzzle.  Thanks, Ryan!</p></p>

<p><p>This StackOverflow post on <a href="http://stackoverflow.com/questions/11597130/omniauth-facebook-keeps-reporting-invalid-credentials">invalid_credentials in Omniauth-facebook</a> pointed out the need to use a particular omniauth-facebook release.  Another StackOverflow post pointed out the need to <a href="http://stackoverflow.com/questions/12370056/omniauth-strategies-facebook-noauthorizationcodeerror-must-pass-either-a-code">send a signed_request parameter with the GET to the Facebook SDK</a>.  That&rsquo;s incorporated into the above JavaScript.</p></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/19/charlotte-startup-weekend-3/">Charlotte Startup Weekend 3</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-10-19T00:00:00-04:00" pubdate data-updated="true">Oct 19<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><p>I haven&#8217;t blogged since the last Startup Weekend in Charlotte!  Must mean it&#8217;s time for another one, as the next Startup Weekend approaches.</p>
	<p>First is <a href="http://charlotte.startupweekend.org/">Charlotte Startup Weekend 3</a>, where I am a co-organizer.  You can read our <a href="http://charlotte.startupweekend.org/2011/10/13/announcing-charlotte-startup-weekend-3/">kickoff blog for <span class="caps">CSW3</span></a> on our site.  We also have testimonials from <a href="http://charlotte.startupweekend.org/2011/10/18/technologists-love-charlotte-startup-weekend/">technologists</a> and <a href="http://charlotte.startupweekend.org/2011/10/18/tagseats-a-special-charlotte-startup-weekend-testimonial/">business people</a>.  This is a great event for working on a project for the fun of it, and making friends and connections in the Charlotte startup community at the same time.</p>

	<p>It’s November 4-6, so it’s in a few weeks.  We have a lot of sponsors, judges, advisors and volunteers to introduce, but we need attendees!  If you cannot afford the registration fees, please contact me, as there may be some scholarship possibilities.</p>

	<p>If you’re not sure whether Startup Weekend is right for you, there’s an event from Collaborate <span class="caps">CLT</span> and <a href="http://www.meetup.com/Startups/Charlotte-NC/428152/">CLT Launch</a> hosted by <a href="http://www.meetup.com/Packard-Place-Innovation-Entrepreneurship-Community-Group/events/37957682/">Packard Place</a> to help you evaluate that on Tuesday, October 25.</p>

	<p>Finally, if you are interested in the Charlotte startup community, I publish a newsletter that attempts to circulate great information about what’s happening and who is involved here in the city.  You can view the <a href="http://us2.campaign-archive2.com/home/?u=8b4656bd4a093a3bcabfda08a&amp;id=564f168838">archives</a>  or <a href="http://eepurl.com/e0AO6">sign up</a>!</p>

	<p>Thanks for your time and attention.</p>

	<p>Jim Van Fleet<br>
</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/30/charlotte-startup-weekend-2/">Charlotte Startup Weekend 2</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-03-30T00:00:00-04:00" pubdate data-updated="true">Mar 30<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><p>For those of you who are learning of my existence for the first time, welcome!  I&#8217;m writing today about my involvement with <a href="http://charlotte.startupweekend.org/">Charlotte Startup Weekend 2</a>, but I have to start with some of my own background to help you understand why you should be involved as well.</p>

<p>I came to Charlotte in January of 2008 to pursue my professional passion of working with Ruby on Rails.  I selected a Charlotte startup over one in the Bay Area because I believed in the business.  During our time here, my wife and I have come to love Charlotte deeply, and have made it our home.  I am an advocate for Charlotte, and I&#8217;m also an admirer and exhibitor of its entreprenurial spirit.  After moving here for one Charlotte startup, I&#8217;ve founded or co-founded two others, and joined a fourth as its CTO.</p>

<p>I am co-organizing <a href="http://charlotte.startupweekend.org/">Charlotte Startup Weekend 2</a>.  I am donating my time because I believe in the format, and that it&#8217;s exactly what Charlotte&#8217;s maturing entrepreneurial environment needs to take the next step.  During my time as a freelance consultant doing networking in Charlotte, I came to be familiar with a great deal of this city&#8217;s talent in design, software development, marketing, and entrepreneurship.  I believe it&#8217;s time for this claim that I know to be true to become widely believed: this city has an incredible talent base and tremendous potential.  By participating in <a href="http://charlotte.startupweekend.org/">Charlotte Startup Weekend</a>, you&#8217;ll be teaming with some of Charlotte&#8217;s best and brightest for an inspiring weekend of networking, friendship, and working together.</p>

<p>The agenda is available <a href="http://charlotte.startupweekend.org/">on the CSW2 website</a>, but here is a summary.  On Friday night, after opening remarks, those who have an idea they&#8217;d like to put before the group to create will pitch their concept.  A small number of those concepts will be selected, and teams will self-organize based on what and who they&#8217;d like to work with.  Work will begin.  Food and drink will be provided.  Advisors will review and offer commentary on your progress.  At the end of the weekend, a panel of judges will decide who has won.  Depending on the organizers meeting their sponsorship goals, there may be prizes awarded the winners.  Perhaps our winner will have an opportunity to become tenants at our host sponsor, <a href="http://packardplace.us/">Packard Place</a>!</p>

<p>The primary sponsor of the <a href="http://startupweekend.org/">Startup Weekend</a> brand is the <a href="http://www.kauffman.org/">Kauffman Foundation</a>, whose mission is promoting entrepreneurship.  A study from that group in 2010 begins <strong><a href="http://www.kauffman.org/newsroom/kauffman-foundation-analysis-emphasizes-importance-of-young-businesses-to-job-creation-in-the-united-states.aspx">When it comes to U.S. job growth, startup companies aren’t everything. They’re the only thing.</a></strong>.  The study reveals that, both on average and for all but seven years between 1977 and 2005, existing firms are net job destroyers, losing 1 million jobs net combined per year. By contrast, in their first year, new firms add an average of 3 million jobs.</p>

<p>I&#8217;d exhort us all to build new companies together here in Charlotte.  Practicing will make us better, and you could meet your next business partner at this event.  You&#8217;ll have a chance to know what everyone on your team is capable of, and you&#8217;ll be comparing results with your peers for weeks to come.  You&#8217;ll look at what has been accomplished by a group of strangers in one weekend, and you&#8217;ll wonder what&#8217;s possible in your own business with your own teams in the next two weeks.</p>

<p>So, <a href="http://www.eventbrite.com/event/1484649627?discount=launchweek">go register!</a>.  And if you are interested in sponsorship, please contact me at jim at jimvanfleet.com and reference CSW in your subject line.</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/10/devops-culture-hacks-devops-com/">DevOps Culture Hacks | DevOps.com</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-03-10T00:00:00-05:00" pubdate data-updated="true">Mar 10<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://devops.com/2011/03/08/devops-culture-hacks/">DevOps Culture Hacks | DevOps.com</a>: &#8220;A turning point for Jesse in terms of moving from an obstacle in the way of change to someone that really knew how to add value with ops practice stemmed from a battle he got into with the ‘VP of Awesome’ at Amazon. This was the nickname of this particular VP because it seemed that pretty much any highly interesting project at Amazon was under this man’s purview. What happened was that Jesse did not want to let out a piece of software because he knew, for sure, that it would bring the site down. The VP overrode him by saying that the site may go down, but the stock price will go up. So, the software went out, and it brought the site down. Two days of firefighting and the site came back up, and so did the stock price, and so did the volume of orders.

The dev team went on and had a party, they were rewarded for job well done, new and profitable functionality released. At the end of the year, Ops got penalized for the outage! Amazon rewarded development for releasing software and providing value and operations was not a part of that. They were in fact penalized for something that was out of their control.&#8221;</p>

<p>This is a great post, go read the rest.</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/03/04/old-days/">Old Days</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-03-04T00:00:00-05:00" pubdate data-updated="true">Mar 4<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.savagechickens.com/2011/03/old-days.html">Old Days</a>: &#8221;<p><img title="Old Days" src="http://www.savagechickens.com/wp-content/uploads/chickenyoungagain.jpg" alt="Old Days" width="400" height="632"></p>
<p>More <a href="http://www.savagechickens.com/tag/nostalgia">nostalgia</a>.</p>&#8221;</p>

<p>(Via <a href="http://www.savagechickens.com/">Savage Chickens</a>.)</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/08/336-hours/">336 Hours</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-02-08T00:00:00-05:00" pubdate data-updated="true">Feb 8<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content">In the next two weeks, I expect the following events:
<ul>
	<li>I will speak at <a href="http://ignitecharlotte.org">Ignite! Charlotte</a> for a second time, this time in front of a sold-out Neighborhood Theater.</li>
	<li>My wife Megan and I will have a pre-natal visit and our last ultrasound before the birth of our first child, a son, in April.</li>
	<li>My wife&#8217;s parents will make their first visit to Charlotte, bringing their dogs with them.  We will have ten living creatures in the house.</li>
	<li>I will turn 32.</li>
	<li>My wife will have a baby shower.</li>
	<li>My parents will visit with the intention of selecting a new home for themselves, here in Charlotte.  After that selection, I expect the logistics of their move to be made in a short amount of time.</li>
	<li>I will attend a meeting of <a href="http://www.techexeccouncil.org/">CRTEC</a> which promises to become the home of Charlotte&#8217;s technology leadership, followed by a meeting with another CRTEC member to discuss our vision of Charlotte&#8217;s software development community.</li>
	<li>I will attend an all-day workshop for entrepreneurs focused on preparing for investment and attracting investors to small businesses, put on by the <a href="http://www.bigcouncil.com/">BIG council</a> in conjunction with the SBTDC.</li>
	<li>I will submit a talk for RailsConf 2011.</li>
	<li>Megan and I will attend a Punch Brothers show at the Neighborhood Theater.  Chris Eldridge is a dear friend of Megan&#8217;s.</li>
	<li>I will celebrate the one year anniversary of going freelance with <a href="http://itsbspoke.com">it&#8217;s bspoke</a>.</li>
	<li>Adam Howell and I will observe the one year anniversary of <a href="http://workmontage.com">Work Montage</a> and our product <a href="http://mocksup.com">Mocksup</a>.</li>
	<li>And finally, although a more formal announcement will be forthcoming, I&#8217;ve altered bspoke&#8217;s charter to accept a full-time CTO position at <a href="http://otherscreen.com">Otherscreen</a>, a web and mobile startup here in Charlotte, NC.  It is a true privilege to be working with this team already, and you should expect big things.</li>
</ul>
That&#8217;s in addition to client work and the particulars of every day life.  If I am overly quiet or missing for a good portion of February, now you know why.  If I owe you something, please keep reminding me.  Except for you, Raquel, I&#8217;m almost done with your recommendation.
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/02/06/unqualified-reservations-whats-wrong-with-cs-research/">Unqualified Reservations: What&#8217;s Wrong With CS Research</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-02-06T00:00:00-05:00" pubdate data-updated="true">Feb 6<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://unqualified-reservations.blogspot.com/2007/08/whats-wrong-with-cs-research.html">Unqualified Reservations: What&#8217;s wrong with CS research</a>: &#8220;So here&#8217;s the first thing that&#8217;s wrong with CS research: there&#8217;s no such thing as CS research. First, there is no such thing as &#8216;computer science.&#8217; Except for a few performance tests and the occasional usability study, nothing any CS researcher does has anything to do with the Scientific Method. Second, there is no such thing as &#8216;research.&#8217; Any activity which is not obviously productive can be described as &#8216;research.&#8217; The word is entirely meaningless. All just semantics, of course, but it&#8217;s hardly a good sign that even the name is fraudulent.

When we look at what &#8216;CS researchers&#8217; actually do, we see three kinds of people. We can describe them roughly as creative programmers, mathematicians, and bureaucrats.&#8221;</p>

<hr>

<p>To excerpt from this post does it a great disservice, and, like most other things I post to my blog, is highly recommended reading.</p>

<p>From my time in undergraduate CS studies at a prestigious university (attached to the programming languages team, for good measure!), I can both accept and amend the author&#8217;s central claim: CS research sucks.</p>

<p>I worked on a team working on an optimizing compiler for the Java language that could detect when known transforms could be applied yielding a semantically equivalent, but faster, set of bytecodes.  The platform gets marginally faster for everyone, should the research yield meaningful fruit and get adopted upstream.  A noble goal, undertaken by earnest and intelligent men and women, but ultimately doomed.</p>

<p>One note the author does not strike is of the commercial nature of programming languages.  Over and over, we see the pattern: evangelism, adoption, glut of choice, everything starts to suck and get vendor dependent, death.  After its acquisition by Oracle, to the author&#8217;s &#8220;creative programmers&#8221;, Java is now in its final stage, destined to live as a zombie whose musculature (the JVM) is kept alive only by newer languages (e.g. Scala, Clojure, JRuby, Groovy, etc.) that target the platform.  This fact should not be lost on the judgement of quality of CS research.</p>

<p>On the other side of the equation, programming an IDE that supported an alternative implementation of the generics which became part of the Java language in JDK 1.5 introduced me to basically all of the concepts I use still today as a successful programmer.  It wasn&#8217;t because of the work I <strike>did</strike> faked on writing the grammar for this extended language, it was because of the techniques we used as a team in writing the IDE.  Pair programming, test driven development, The Pragmatic Programmer, etc.  It&#8217;s hard for me to think of that being a failure.  I love programming, and it&#8217;s because of my time with the PLT team at Rice University.  Thanks, Dr. Cartwright!</p>

<p>(Original via <a href="https://twitter.com/puredanger/status/34246185044815872">@puredanger</a>.)</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/17/national-anthem/">National Anthem</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Jim Van Fleet</span></span>
  

 - 
        








  


<time datetime="2011-01-17T00:00:00-05:00" pubdate data-updated="true">Jan 17<span>th</span>, 2011</time> - 
        


        
      </p>
    
  </header>


  <div class="entry-content">This was my favorite rendition I can remember.
</div>
  
  


</div>

      </article>
    
    </div>
      <div class="row">
        <ul class="pager">
          
            <li class="previous">
              <a href="/blog/page/2/">&larr; Older</a>
            </li>
          
          
        </ul>
      </div>
  </div>
</div>


  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2015/04/16/the-end-of-an-era/">The end of an era</a>
        </li>
      
        <li>
          <a href="/blog/2013/11/03/deferred-work-using-sidekiq/">Deferred Work Using Sidekiq</a>
        </li>
      
        <li>
          <a href="/blog/2013/10/21/facebook-oauth-using-omniauth-and-rails-4/">Facebook OAuth using OmniAuth and Rails 4</a>
        </li>
      
        <li>
          <a href="/blog/2011/10/19/charlotte-startup-weekend-3/">Charlotte Startup Weekend 3</a>
        </li>
      
        <li>
          <a href="/blog/2011/03/30/charlotte-startup-weekend-2/">Charlotte Startup Weekend 2</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/bigfleet" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @bigfleet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="bigfleet">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/bigfleet/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>





<a href="http://www.linkedin.com/in/jimvanfleet" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/bigfleet" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>





<a href="http://www.quora.com/bigfleet" rel="tooltip" title="Quora"><img class="social_icon" title="Quora" alt="Quora icon" src="/images/glyphicons_385_quora.png"></a>



<h2>contact at</h2>
<a href="mailto:jim@jimvanfleet.com">jim@jimvanfleet.com</a>


  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Hello, I'm Jim Van Fleet</a>
  - Copyright &copy; 2015 - Jim Van Fleet
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>








  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '51e13f58f5a1f52d5300006b');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>


</body>
</html>
